<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>导游时间安排</title>
    <link rel="stylesheet" href="/css/layui.css" media="all">
    <link rel="stylesheet" type="text/css" href="/admin/layui/css/layui.css" />
    <link rel="stylesheet" type="text/css" href="/admin/css/admin.css" />
    <style>
        table tr td{width: 500px;text-align: center}
        table tr td{
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div style="height:30px;font-size: 16px;">
        <input type="hidden" name="year" th:value="${year}">
        <span style="margin-left: 90px;line-height: 30px;">月份:</span><span style="width:100px;height:100px;margin-left: 10px;line-height: 30px;"><a href="javascript:void(0)" th:text="${month}"></a></span><span style="width:100px;margin-left: 45px;line-height: 30px;"><a href="javascript:void(0)" th:text="${month}+1"></a></span>
        <span style="margin-left: 20px;">(√：已占用&nbsp;&nbsp;&nbsp;×：已请假&nbsp;&nbsp;&nbsp;空：无安排)</span>
    </div>
        <table border="2px" bordercolor="#00BBFF" cellspacing="0" cellpadding="2" style="border-collapse:collapse; width:100%">
        <thead>
            <tr style="height: 40px;">
                <td>名字\日期</td>
                <td>1</td>
                <td>2</td>
                <td>3</td>
                <td>4</td>
                <td>5</td>
                <td>6</td>
                <td>7</td>
                <td>8</td>
                <td>9</td>
                <td>10</td>
                <td>11</td>
                <td>12</td>
                <td>13</td>
                <td>14</td>
                <td>15</td>
                <td>16</td>
                <td>17</td>
                <td>18</td>
                <td>19</td>
                <td>20</td>
                <td>21</td>
                <td>22</td>
                <td>23</td>
                <td>24</td>
                <td>25</td>
                <td>26</td>
                <td>27</td>
                <td>28</td>
                <td>29</td>
                <td>30</td>
                <td>31</td>
            </tr>
        </thead>
        <tbody>
        <tr style="height: 40px;" name="demo">
            <td>王三</td>
            <td>√</td>
            <td></td>
            <td>√</td>
            <td></td>
            <td>√</td>
            <td></td>
            <td>√</td>
            <td></td>
            <td>√</td>
            <td></td>
            <td>√</td>
            <td></td>
            <td>×</td>
            <td></td>
            <td>×</td>
            <td>√</td>
            <td>×</td>
            <td>√</td>
            <td></td>
            <td>×</td>
            <td>√</td>
            <td>√</td>
            <td>×</td>
            <td></td>
            <td>×</td>
            <td>√</td>
            <td>×</td>
            <td>√</td>
            <td>√</td>
            <td>×</td>
            <td>√</td>
        </tr>
        </tbody>
    </table>
    <ul id="laypage" style="text-align: center"></ul>
</div>
<script src="/layui.js"></script>
<script src="/js/jquery-1.8.2.min.js"></script>
<script>
    var limitcount = 2; // 每页总记录数
    var curnum = 1;  // 当前页码
    $(function () {

        /*var items=$("tr[name=demo]").children();
        $(items).eq(8).html("钱");*/
    });

    loadData();
    function loadData() {
        return;
        var str = "";
        $.ajax({
            url: "/Guide/guideShowAll",
            data: {pageNo: curnum, pageSize: limitcount,guideName:''},
            dataType: "json",
            type: "get",
            success: function (e) {
                // 分页插件
                layui.use('table', function () {
                    var laypage = layui.laypage;
                    laypage.render({
                        elem: 'laypage'
                        , count: e.count
                        , curr: curnum
                        , limit: 2
                        , layout: ['prev', 'page', 'next', 'skip', 'count']
                        , jump: function (obj, first) {
                            if (!first) {
                                //obj包含了当前分页的所有参数，比如：
                                curnum = obj.curr; // 当前页码
                                limitcount = obj.limit; // 每页记录数
                                // 查询新数据
                                loadData();
                            }
                        }
                    })
                })
                $(e.data).each(function (i, result) {
                    str += "<tr><td>" + result.guideName + "</td></tr>";
                })
                $('tbody').html(str);
            },
            error: function (res) {
                alert(res);
            }
        })
    }
</script>
</body>
</html>
